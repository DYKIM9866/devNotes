# Domain Model

## Domain Model 이란

### 도메인 (Domain)
도메인은 소프트웨어 엔지니어링에서 사용되는 용어로써, 프로그래밍으로 해결하고자 하는 주제에 대한 영역과 핵심 비즈니스 요구사항을 의미하는 단어다. 도메인은 다시 하위 도메인으로 나뉘어 질 수 있다.

개발자 입장에서 구현해야 할 소프트웨어,즉 강의 플랫폼 소프트웨어라 하면 강의 상품조회, 구매, 결제 등이 되겠다.

### 그렇다면 도메인 모델은?
도메인 모델은 도메인에 대한 것을 단순화 하고 보기 쉽게 구조화한 형태, 무엇보다 행위(behavior)가 중요함

어렵당..

행위 없이 코딩 (내가 너를 다 파악해서 조작하겠다 = 협력이 아님 = 복잡성이 감소하지 않음)

```java
Long amount = account.getAmount();
account.setAmount(amount + 10_000);
```

행위가 있다면? (내가 알게 뭐야 = 알아서 해 = 위임)

```java
account.increateAmount(10_000);
```

## Repository
DAO가 데이터를 관리한다면, Repository는 도메인 모델을 관리한다. 거칠게 말하면, 전자는 DB 중심이고, 후자는 도메인 모델 중심이다.

예전 기술을 활용하는 조직이라면 ERD를 먼저 그리고 나서 DAO와 VO(DTO)를 사용하는 방식으로 개발을 진행할 거고(데이터베이스 주도 개발), DDD를 극단적으로 따르는 조직이라면 도메인 모델을 먼저 만들고, JPA Entity를 따로 만들어서 도메인 모델과 매핑한다. 전자는 DB가 바뀌면 프로그램이 바뀌고, 후자는 프로그램을 지원하기 위해 DB를 조정한다. 후자는 CQRS, Event Sourcing 등을 도입하거나 솔루션 자체를 변경하기 (어디까지나 상대적으로) 쉽다.

## VO(Value Object)